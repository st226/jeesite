<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.efm.dao.EfmJmaezctieiDao">
    
	<sql id="efmJmaezctieiColumns">
		a.create_by AS "createBy.id",
		a.create_by_dept AS "createByDept.id",
		a.create_date AS "createDate",
		a.update_by AS "updateBy.id",
		a.update_date AS "updateDate",
		a.del_flag AS "delFlag",
		a.proc_sno AS "procSno",
		a.tianbaobumen AS "tianbaobumen",
		a.tianbaoriqi AS "tianbaoriqi",
		a.chengbanren AS "chengbanren",
		a.lianxidianhua AS "lianxidianhua",
		a.gjmmlx AS "gjmmlx",
		a.sxmc AS "sxmc",
		a.nidingmiji AS "nidingmiji",
		a.baomiqixian AS "baomiqixian",
		a.zhixifanwei AS "zhixifanwei",
		a.dingmiyiju AS "dingmiyiju",
		a.chengbanrenid AS "chengbanrenid",
		a.tianbaobumenid AS "tianbaobumenid",
		a.id AS "id",
		a.form_id AS "formId",
		a.data_secret_level AS "dataSecretLevel",
		a.version AS "version"
	</sql>
	
	<sql id="efmJmaezctieiJoins">
	</sql>
    
	<select id="get" resultType="EfmJmaezctiei">
		SELECT 
			<include refid="efmJmaezctieiColumns"/>
		FROM efm_jmaezctiei a
		<include refid="efmJmaezctieiJoins"/>
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="EfmJmaezctiei">
		SELECT 
			<include refid="efmJmaezctieiColumns"/>
		FROM efm_jmaezctiei a
		<include refid="efmJmaezctieiJoins"/>
		<where>
			a.del_flag = #{DEL_FLAG_NORMAL}
			<if test="tianbaobumen != null and tianbaobumen != ''">
				AND a.tianbaobumen = #{tianbaobumen}
			</if>
			<if test="tianbaoriqi != null and tianbaoriqi != ''">
				AND a.tianbaoriqi = #{tianbaoriqi}
			</if>
			<if test="chengbanren != null and chengbanren != ''">
				AND a.chengbanren = #{chengbanren}
			</if>
			<if test="sxmc != null and sxmc != ''">
				AND a.sxmc = #{sxmc}
			</if>
			<if test="nidingmiji != null and nidingmiji != ''">
				AND a.nidingmiji = #{nidingmiji}
			</if>
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
				ORDER BY a.update_date DESC
			</otherwise>
		</choose>
	</select>
	
	<select id="findAllList" resultType="EfmJmaezctiei">
		SELECT 
			<include refid="efmJmaezctieiColumns"/>
		FROM efm_jmaezctiei a
		<include refid="efmJmaezctieiJoins"/>
		<where>
			a.del_flag = #{DEL_FLAG_NORMAL}
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
				ORDER BY a.update_date DESC
			</otherwise>
		</choose>
	</select>
	
	<insert id="insert">
		INSERT INTO efm_jmaezctiei(
			create_by,
			create_by_dept,
			create_date,
			update_by,
			update_date,
			del_flag,
			proc_sno,
			tianbaobumen,
			tianbaoriqi,
			chengbanren,
			lianxidianhua,
			gjmmlx,
			sxmc,
			nidingmiji,
			baomiqixian,
			zhixifanwei,
			dingmiyiju,
			chengbanrenid,
			tianbaobumenid,
			id,
			form_id,
			data_secret_level,
			version
		) VALUES (
			#{createBy.id},
			#{createByDept.id},
			#{createDate},
			#{updateBy.id},
			#{updateDate},
			#{delFlag},
			#{procSno},
			#{tianbaobumen},
			#{tianbaoriqi},
			#{chengbanren},
			#{lianxidianhua},
			#{gjmmlx},
			#{sxmc},
			#{nidingmiji},
			#{baomiqixian},
			#{zhixifanwei},
			#{dingmiyiju},
			#{chengbanrenid},
			#{tianbaobumenid},
			#{id},
			#{formId},
			#{dataSecretLevel},
			#{version}
		)
	</insert>
	
	<update id="update">
		UPDATE efm_jmaezctiei SET 	
			create_by_dept = #{createByDept.id},
			update_by = #{updateBy.id},
			update_date = #{updateDate},
			proc_sno = #{procSno},
			tianbaobumen = #{tianbaobumen},
			tianbaoriqi = #{tianbaoriqi},
			chengbanren = #{chengbanren},
			lianxidianhua = #{lianxidianhua},
			gjmmlx = #{gjmmlx},
			sxmc = #{sxmc},
			nidingmiji = #{nidingmiji},
			baomiqixian = #{baomiqixian},
			zhixifanwei = #{zhixifanwei},
			dingmiyiju = #{dingmiyiju},
			chengbanrenid = #{chengbanrenid},
			tianbaobumenid = #{tianbaobumenid},
			form_id = #{formId},
			data_secret_level = #{dataSecretLevel},
			version = #{version}
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		UPDATE efm_jmaezctiei SET 
			del_flag = #{DEL_FLAG_DELETE}
		WHERE id = #{id}
	</update>
	
</mapper>